<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      const prettyBytes = (num, precision = 3, addSpace = true) => {
        const UNITS = ["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];
        if (Math.abs(num) < 1) return num + (addSpace ? " " : "") + UNITS[0];
        const exponent = Math.min(
          Math.floor(Math.log10(num < 0 ? -num : num) / 3),
          UNITS.length - 1
        );
        const n = Number(
          ((num < 0 ? -num : num) / 1000 ** exponent).toPrecision(precision)
        );
        return (
          (num < 0 ? "-" : "") + n + (addSpace ? " " : "") + UNITS[exponent]
        );
      };
      console.log(prettyBytes(1000));
      console.log(prettyBytes(-27145424323.5821, 5));
      console.log(prettyBytes(123456789, 3, false));
      
    </script>
  </head>
  <body></body>
</html>
